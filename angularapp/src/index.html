<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>HireConnect</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <!-- IMPORTANT: put CSS in head so navbar styles exist when measuring -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <!-- robust runtime script (see below) -->
  <script>
    (function() {
      // Watch for the navbar (class .app-navbar or .navbar or header)
      function findNavbar() {
        return document.querySelector('.app-navbar') ||
               document.querySelector('.navbar') ||
               document.querySelector('header');
      }

      function setNavVarsForElement(navEl) {
        if (!navEl) return;
        var h = Math.round(navEl.getBoundingClientRect().height || 72);
        var extra = 12;
        document.documentElement.style.setProperty('--navbar-height', h + 'px');
        document.documentElement.style.setProperty('--navbar-extra-gap', extra + 'px');
        document.documentElement.style.setProperty('--navbar-total', 'calc(var(--navbar-height) + var(--navbar-extra-gap))');
      }

      // Try immediate, then watch for navbar to appear
      setTimeout(function(){ setNavVarsForElement(findNavbar()); }, 50);

      // If navbar is added later by Angular, use a MutationObserver to detect it
      var observer = new MutationObserver(function(mutations, obs) {
        var nav = findNavbar();
        if (nav) {
          setNavVarsForElement(nav);
          // keep observer (in case height changes) but we can disconnect if you prefer
          // obs.disconnect();
        }
      });
      observer.observe(document.documentElement || document.body, { childList: true, subtree: true });

      // Update on window resize (navbar height may change)
      window.addEventListener('resize', function() {
        setNavVarsForElement(findNavbar());
      });

      // Also set again after load because sometimes fonts or icons change height
      window.addEventListener('load', function() {
        setNavVarsForElement(findNavbar());
      });

      // last-resort periodic attempt for first few seconds
      var tries = 0;
      var intv = setInterval(function() {
        tries++;
        setNavVarsForElement(findNavbar());
        if (tries > 20) clearInterval(intv);
      }, 200);
    })();
  </script>
</head>
<body>
  <app-root></app-root>
  <!-- keep scripts here (angular bundle) -->
</body>
</html>
