<!-- src/app/component/auth/forgot-password/forgot-password.html -->
<div class="forgot-wrap">
  <section class="card">
    <h2>Reset Your Password </h2>

    <!-- note: keep novalidate and ngForm; we'll do validation in submit() -->
    <form (ngSubmit)="submit()" #f="ngForm" novalidate>
      <div class="field">
        <label>Username</label>
        <input
          name="username"
          [(ngModel)]="username"
          required
          placeholder="Enter your username"
        />
      </div>

      <div class="field">
        <label>New Password</label>
        <input
          name="newPassword"
          type="password"
          [(ngModel)]="newPassword"
          required
          minlength="6"
          placeholder="Enter new password"
        />
      </div>

      <div class="field">
        <label>Confirm New Password</label>
        <input
          name="confirmPassword"
          type="password"
          [(ngModel)]="confirmPassword"
          required
          minlength="6"
          placeholder="Confirm new password"
        />
      </div>

     
      <div
        class="message"
        *ngIf="message"
        [class.error]="isError"
        [class.success]="!isError"
      >
        {{ message }}
      </div>

      <!-- Changed: only disabled when isLoading. This avoids Angular blocking the button
           due to form.valid quirks; we perform validation in submit() before calling API. -->
      <button
        class="btn"
        type="submit"
        [disabled]="isLoading"
      >
        {{ isLoading ? 'Updatingâ€¦' : 'Update Password' }}
      </button>

      <p class="back-link">
        Back to
        <a (click)="goToSignIn()" style="cursor:pointer; color:#185dc5;">Sign In</a>
      </p>
    </form>
  </section>
</div>
