<!-- src/app/admin/admin-dashboard/admin-dashboard.html -->
<div class="admin-dashboard-layout">
  <app-admin-sidebar></app-admin-sidebar>

  <div class="admin-dashboard-main" role="main">
    <!-- Header -->
    <div class="dashboard-header">
      <div class="header-content">
        <h1 class="dashboard-title">
          <i class="icon-dashboard"></i>
          Admin Dashboard
        </h1>
        <p class="dashboard-subtitle">
          Welcome back, Admin! Here's your platform overview.
        </p>
      </div>

      <!-- Actions: User Dashboard + Refresh -->
      <div class="header-actions">
        <!-- ✅ New User Dashboard Button -->
        <button class="btn-user-dashboard" (click)="goToUserDashboard()">
          <i class="icon-user-dashboard"></i>
          <span>User Dashboard</span>
        </button>

        <button class="btn-refresh" (click)="refreshData()" [disabled]="isLoading">
          <i class="icon-refresh" [class.spinning]="isLoading"></i>
          <span>{{ isLoading ? 'Refreshing...' : 'Refresh Data' }}</span>
        </button>
      </div>
    </div>

    <!-- Stats Overview -->
    <div class="stats-section" *ngIf="!isLoading">
      <h2 class="section-title">Platform Statistics</h2>

      <div class="stats-grid">
        <div class="stat-card users">
          <div class="stat-icon"><i class="icon-users"></i></div>
          <div class="stat-content">
            <h3 class="stat-number">{{ stats.totalUsers | number }}</h3>
            <p class="stat-label">Total Users</p>
          </div>
        </div>

        <div class="stat-card jobs">
          <div class="stat-icon"><i class="icon-briefcase"></i></div>
          <div class="stat-content">
            <h3 class="stat-number">{{ stats.totalJobs | number }}</h3>
            <p class="stat-label">Active Jobs</p>
          </div>
        </div>

        <div class="stat-card companies">
          <div class="stat-icon"><i class="icon-building"></i></div>
          <div class="stat-content">
            <h3 class="stat-number">{{ stats.totalCompanies | number }}</h3>
            <p class="stat-label">Registered Companies</p>
          </div>
        </div>

        <div class="stat-card reviews">
          <div class="stat-icon"><i class="icon-star"></i></div>
          <div class="stat-content">
            <h3 class="stat-number">{{ stats.pendingReviews | number }}</h3>
            <p class="stat-label">Pending Reviews</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="content-section" *ngIf="!isLoading">
      <h2 class="section-title">Quick Actions</h2>

      <div class="action-grid">
        <a class="action-card" routerLink="/admin/manage-users" routerLinkActive="active">
          <div class="action-icon"><i class="icon-users"></i></div>
          <div class="action-content">
            <h3>Manage Users</h3>
            <p>View, edit, and manage user accounts</p>
          </div>
          <div class="action-arrow"><i class="icon-arrow-right"></i></div>
        </a>

        <a class="action-card" routerLink="/admin/manage-jobs" routerLinkActive="active">
          <div class="action-icon"><i class="icon-briefcase"></i></div>
          <div class="action-content">
            <h3>Manage Jobs</h3>
            <p>Oversee job postings and applications</p>
          </div>
          <div class="action-arrow"><i class="icon-arrow-right"></i></div>
        </a>

        <a class="action-card" routerLink="/admin/manage-companies" routerLinkActive="active">
          <div class="action-icon"><i class="icon-building"></i></div>
          <div class="action-content">
            <h3>Manage Companies</h3>
            <p>Review and approve company registrations</p>
          </div>
          <div class="action-arrow"><i class="icon-arrow-right"></i></div>
        </a>

        <a class="action-card" routerLink="/admin/reviews-moderation" routerLinkActive="active">
          <div class="action-icon"><i class="icon-star"></i></div>
          <div class="action-content">
            <h3>Review Moderation</h3>
            <p>Moderate company and job reviews</p>
          </div>
          <div class="action-arrow"><i class="icon-arrow-right"></i></div>
        </a>
      </div>
    </div>

    <!-- Loading / Error -->
    <div class="error-state" *ngIf="hasError && !isLoading">
      <div class="error-content">
        <div class="error-icon"><i class="icon-error">⚠️</i></div>
        <h3>Oops! Something went wrong</h3>
        <p>{{ errorMessage }}</p>
        <button class="btn-retry" (click)="retryLoad()">
          <i class="icon-refresh"></i> Try Again
        </button>
      </div>
    </div>

    <div class="loading-overlay" *ngIf="isLoading">
      <div class="loading-spinner">
        <i class="icon-spinner"></i>
        <p>Loading data...</p>
      </div>
    </div>
  </div>
</div>
