<div class="admin-dashboard-layout">
  <app-admin-sidebar></app-admin-sidebar>
  <div class="admin-dashboard-main">
    <div class="dashboard-header">
      <div class="header-content">
        <h1 class="dashboard-title">
          <i class="icon-dashboard"></i>
          Admin Dashboard
        </h1>
        <p class="dashboard-subtitle">Welcome back, Admin! Here's your platform overview.</p>
      </div>
      <div class="header-actions">
        <button class="btn-refresh" (click)="refreshData()" [disabled]="isLoading">
          <i class="icon-refresh" [class.spinning]="isLoading"></i>
          Refresh Data
        </button>
      </div>
    </div>

    <!-- Stats Overview with Chart Placeholder -->
    <div class="stats-section">
      <h2 class="section-title">Platform Statistics</h2>
      <div class="stats-grid">
        <div class="stat-card users">
          <div class="stat-icon">
            <i class="icon-users"></i>
          </div>
          <div class="stat-content">
            <h3 class="stat-number">{{ stats.totalUsers | number }}</h3>
            <p class="stat-label">Total Users</p>
            <span class="stat-change positive">+12% this month</span>
          </div>
        </div>
        <div class="stat-card jobs">
          <div class="stat-icon">
            <i class="icon-briefcase"></i>
          </div>
          <div class="stat-content">
            <h3 class="stat-number">{{ stats.totalJobs | number }}</h3>
            <p class="stat-label">Active Jobs</p>
            <span class="stat-change positive">+8% this month</span>
          </div>
        </div>
        <div class="stat-card companies">
          <div class="stat-icon">
            <i class="icon-building"></i>
          </div>
          <div class="stat-content">
            <h3 class="stat-number">{{ stats.totalCompanies | number }}</h3>
            <p class="stat-label">Registered Companies</p>
            <span class="stat-change positive">+5% this month</span>
          </div>
        </div>
        <div class="stat-card reviews">
          <div class="stat-icon">
            <i class="icon-star"></i>
          </div>
          <div class="stat-content">
            <h3 class="stat-number">{{ stats.pendingReviews | number }}</h3>
            <p class="stat-label">Pending Reviews</p>
            <span class="stat-change warning">Needs attention</span>
          </div>
        </div>
      </div>
      <!-- Chart.js Placeholder -->
      <!-- Removed empty form card below stats -->
      <!-- <div style="margin-top:2rem; background:white; border-radius:12px; box-shadow:0 2px 8px #0001; padding:1.5rem;">
        <canvas id="adminStatsChart" height="80"></canvas>
      </div> -->
    </div>

    <!-- Main Content Grid -->
    <div class="main-content">
      <!-- Quick Actions -->
      <div class="content-section">
        <h2 class="section-title">Quick Actions</h2>
        <div class="action-grid">
          <a class="action-card" routerLink="/admin/manage-users" routerLinkActive="active">
            <div class="action-icon">
              <i class="icon-users"></i>
            </div>
            <div class="action-content">
              <h3>Manage Users</h3>
              <p>View, edit, and manage user accounts</p>
            </div>
            <div class="action-arrow">
              <i class="icon-arrow-right"></i>
            </div>
          </a>

          <a class="action-card" routerLink="/admin/manage-jobs" routerLinkActive="active">
            <div class="action-icon">
              <i class="icon-briefcase"></i>
            </div>
            <div class="action-content">
              <h3>Manage Jobs</h3>
              <p>Oversee job postings and applications</p>
            </div>
            <div class="action-arrow">
              <i class="icon-arrow-right"></i>
            </div>
          </a>

          <a class="action-card" routerLink="/admin/manage-companies" routerLinkActive="active">
            <div class="action-icon">
              <i class="icon-building"></i>
            </div>
            <div class="action-content">
              <h3>Manage Companies</h3>
              <p>Review and approve company registrations</p>
            </div>
            <div class="action-arrow">
              <i class="icon-arrow-right"></i>
            </div>
          </a>

          <a class="action-card" routerLink="/admin/reviews-moderation" routerLinkActive="active">
            <div class="action-icon">
              <i class="icon-star"></i>
            </div>
            <div class="action-content">
              <h3>Review Moderation</h3>
              <p>Moderate company and job reviews</p>
            </div>
            <div class="action-arrow">
              <i class="icon-arrow-right"></i>
            </div>
          </a>
        </div>
      </div>

      <!-- Recent Activity -->
      <div class="content-section">
        <h2 class="section-title">Recent Activity</h2>
        <div class="activity-list">
          <div class="activity-item" *ngFor="let activity of recentActivity">
            <div class="activity-icon" [ngClass]="activity.type">
              <i [ngClass]="'icon-' + activity.type"></i>
            </div>
            <div class="activity-content">
              <h4>{{ activity.title }}</h4>
              <p>{{ activity.description }}</p>
              <span class="activity-time">{{ activity.time }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- System Status -->
    <div class="system-status">
      <h2 class="section-title">System Status</h2>
      <div class="status-grid">
        <div class="status-item" *ngFor="let status of systemStatus">
          <div class="status-indicator" [ngClass]="status.status"></div>
          <span>{{ status.name }}</span>
        </div>
      </div>
    </div>

    <!-- Error State -->
    <div class="error-state" *ngIf="hasError && !isLoading">
      <div class="error-content">
        <div class="error-icon">
          <i class="icon-error">⚠️</i>
        </div>
        <h3>Oops! Something went wrong</h3>
        <p>{{ errorMessage }}</p>
        <button class="btn-retry" (click)="retryLoad()">
          <i class="icon-refresh"></i>
          Try Again
        </button>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" *ngIf="isLoading">
      <div class="loading-spinner">
        <i class="icon-spinner"></i>
        <p>Loading data...</p>
      </div>
    </div>
  </div>
</div>
